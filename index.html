<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Приглашение на свадьбу</title>
    <link href="https://fonts.googleapis.com/css2?family=Patriciana&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Charis+SIL:ital,wght@0,400;0,700;1,400;1,700&family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Istok+Web:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
</head>
<body>
<main>
    <div class="container main-info">
        <div class="main-info__elem">
            <img src="photo1.jpg" alt="Фото 1" class="fadeIn">
            <div class="main-info__elem-text">
                <h2>
                    <div>август</div>
                    <div class="main-info__elem-number">30</div>
                    <div>2025 год</div>
                </h2>
            </div>
        </div>

        <div class="main-info__elem main-info__elem--reverse">
            <img src="photo2.jpg" alt="Фото 2" class="fadeIn">
            <h1>Наша<br>свадьба</h1>
        </div>

        <div class="main-info__elem">
            <img src="photo3.jpg" alt="Фото 3" class="fadeIn">
            <div class="main-info__elem-text">
                <h2>
                    <div>Дарья</div>
                    <div>&</div>
                    <div>Дмитрий</div>
                </h2>
            </div>
        </div>
    </div>

    <div class="container timer">
        <div class="timer__elem">
            <div id="weeks">00</div>
            <div class="timer__elem-text">недель</div>
        </div>
        <div class="timer__elem">
            <div id="days">00</div>
            <div class="timer__elem-text">дней</div>
        </div>
        <div class="timer__elem">
            <div id="hours">00</div>
            <div class="timer__elem-text">часов</div>
        </div>
        <div class="timer__elem">
            <div id="minutes">00</div>
            <div class="timer__elem-text">минут</div>
        </div>
        <div class="timer__elem">
            <div id="seconds">00</div>
            <div class="timer__elem-text">секунд</div>
        </div>
    </div>

    <div class="container">
        <div class="info">
            <h2>Дорогой Гость!</h2>
            <div class="info__text">
                Мы рады сообщить Вам, что 30.08.2025 состоится самое главное
                торжество в нашей жизни - день нашей свадьбы!
                Приглашаем Вас разделить с нами радость этого незабываемого дня.
            </div>
            <div class="info__text info__text-time">30.08.2025 в 16:30</div>
        </div>
    </div>

    <div class="container quote">
        <img src="wedding-photo.jpg" alt="Фото пары" class="quote__photo fadeIn">
        <div class="quote__text">
            "Любить - значит вместе смотреть в одном направлении!"
        </div>
    </div>

    <div class="container">
        <div class="info">
            <h2>Меню</h2>
            <div class="info__text">
                Меню разнообразно, поэтому сообщите нам заранее,
                если у Вас есть какие-либо предпочтения или диетические ограничения.
                Пройдите небольшой опрос о своих вкусовых предпочтениях и напитках
                при подтверждении своего присутствия.
            </div>
        </div>
    </div>

    <div class="container">
        <div class="dress-code">
            <h2>Дресс-код на свадьбе</h2>
            <div class="dress-code__text">
                Мы хотим, чтобы наш особенный день
                был не только прекрасным, но и гармоничным.
                Просим всех гостей выбрать наряды в пастельных тонах,
                чтобы создать атмосферу нежности и утонченности.
                Пусть каждый из Вас почувствует себя частью
                этой красоты и радости!
            </div>
            <div class="color-circles">
                <div class="color-circle color1"></div>
                <div class="color-circle color2"></div>
                <div class="color-circle color3"></div>
                <div class="color-circle color4"></div>
                <div class="color-circle color5"></div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="info confirmation">
            <h2>Подтверждение</h2>

            <form id="form" class="form">
                <div class="confirmation__text">
                    Пожалуйста, подтвердите свое присутствие до 01.08.2025
                </div>

                <div class="form__elem">
                    <label for="guestName" class="title">
                        Ваше имя:
                    </label>
                    <input type="text" id="guestName" name="guestName" required>
                </div>

                <div class="form__elem">
                    <label class="title title--radio">Ваши предпочтение в еде?</label>
                    <label>
                        <input type="radio" name="food" value="no"> Нет
                    </label>
                    <label>
                        <input type="radio" name="food" value="no eat meat"> Не ем мясо
                    </label>
                    <label>
                        <input type="radio" name="food" value="no eat fish"> Не ем рыбу
                    </label>
                    <label>
                        <input type="radio" name="food" value="vegetarian"> Вегетарианец
                    </label>
                </div>

                <div class="form__elem">
                    <label class="title title--radio">Ваши предпочтение в алкоголе?</label>
                    <label>
                        <input type="radio" name="alcohol" value="wine_white"> Вино белое
                    </label>
                    <label>
                        <input type="radio" name="alcohol" value="wine_red"> Вино красное
                    </label>
                    <label>
                        <input type="radio" name="alcohol" value="champagne"> Шампанское
                    </label>
                    <label>
                        <input type="radio" name="alcohol" value="whisky"> Виски
                    </label>
                    <label>
                        <input type="radio" name="alcohol" value="vodka"> Водка
                    </label>
                    <label>
                        <input type="radio" name="alcohol" value="none"> Не буду пить алкоголь
                    </label>
                </div>

                <button id="confirm-button">Отправить</button>
            </form>

            <!-- Сообщение благодарности -->
            <div id="confirmation-message" class="hidden">
                <div>
                    Спасибо, что подтвердили свое присутствие!
                    <br>
                    Дмитрий и Дарья уже оповещены об этом ;)
                </div>
            </div>

            <!-- Сообщение благодарности -->
            <div id="confirmation-message-error" class="hidden">
                <div>
                    Что-то пошло не так!
                    <br>
                    Напиши нам в личку.
                </div>
            </div>
        </div>
    </div>

    <div class="schedule">
        <div class="container schedule__container">
            <h2>Свадебное расписание</h2>
            <div class="schedule__elem">
                <div class="schedule__time">
                    16:30
                    <br>
                    30.08.2025
                </div>
                <div class="schedule__details">
                    <strong>Сбор гостей. Фуршет<br>Банкетный зал "Тёрн"</strong>
                    <br>
                    <div class="schedule__description">
                        Приглашаем вас разделить вместе с нами
                        радость создания новой семьи.
                    </div>
                </div>
            </div>
            <div class="schedule__elem">
                <div class="schedule__time">
                    17:00
                    <br>
                    30.08.2025
                </div>
                <div class="schedule__details">
                    <strong>Церемония</strong>
                    <br>
                    <div class="schedule__description">
                        Вы станете свидетелями трогательного момента.
                        Приготовьте платочки.
                    </div>
                </div>
            </div>
            <div class="schedule__elem">
                <div class="schedule__time">
                    18:00
                    <br>
                    30.08.2025
                </div>
                <div class="schedule__details">
                    <strong>Банкет</strong>
                    <br>
                    <div class="schedule__description">
                        Время вкусной еды, танцев и развлечений!
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

    
<!-- Скрипт -->
<script>
// Получаем элементы
const nameInput = document.getElementById('guestName');
const confirmButton = document.getElementById('confirm-button');

// Логика для проверки ввода имени
nameInput.addEventListener('input', function() {
    if (nameInput.value.trim() === "") {
        nameInput.setAttribute('placeholder', 'Пожалуйста, введите ваше имя');  // Меняем текст placeholder
        nameInput.style.borderColor = 'red';  // Красная рамка
        confirmButton.disabled = true;  // Делаем кнопку неактивной
    } else {
        nameInput.setAttribute('placeholder', 'Введите ваше имя');  // Восстанавливаем исходный текст placeholder
        nameInput.style.borderColor = '';  // Сбрасываем красную рамку
        confirmButton.disabled = false;  // Активируем кнопку
    }
});

// Функция для запуска эффектного конфетти
function launchConfetti() {
    let end = Date.now() + 3 * 1000; // Длительность 3 секунды

    function frame() {
        confetti({
            particleCount: 7,
            angle: 60,
            spread: 100,
            startVelocity: 50,
            origin: { x: 0 }
        });

        confetti({
            particleCount: 7,
            angle: 120,
            spread: 100,
            startVelocity: 50,
            origin: { x: 1 }
        });

        confetti({
            particleCount: 5,
            spread: 80,
            startVelocity: 40,
            origin: { x: Math.random(), y: Math.random() }
        });

        if (Date.now() < end) {
            requestAnimationFrame(frame);
        }
    }

    frame();
}

// Логика для подтверждения
confirmButton?.addEventListener('click', function(e) {
    e.preventDefault();

    const name = nameInput.value.trim();
    const messageBox = document.getElementById("confirmation-message");
    const messageBoxError = document.getElementById("confirmation-message-error");
    const form = document.getElementsByClassName("form");
    const thankYouMessage = messageBox?.querySelector("div");

    // Если имя не введено, подсвечиваем поле ввода красным
    if (!name) {
        nameInput.setAttribute('placeholder', 'Введите имя');  // Текст ошибки в placeholder
        nameInput.style.borderColor = 'red';  // Красная рамка
        return;  // Прерываем выполнение, чтобы не продолжать
    }

    // Обновляем сообщение благодарности с именем
    thankYouMessage.innerHTML = `Спасибо, ${name}, что подтвердили свое присутствие!<br>Дмитрий и Дарья уже оповещены об этом ;)`;

    // Отправляем форму с подтверждением через fetch
    fetch('https://formspree.io/f/mjkyegnq', {
        method: 'POST',
        headers: {
            'Accept': 'application/json'
        },
         body: new URLSearchParams(new FormData(document.getElementById('form')))
    })
        .then(() => {
            // Показываем окно с благодарностью
            messageBox?.classList.remove('hidden');

            // Скрываем форму
            form?.[0].classList.add('hidden');

            // 🎉 Запускаем конфетти после подтверждения
            launchConfetti();
        })
        .catch(() => {
            form?.[0].classList.add('hidden');
            messageBoxError?.classList.remove('hidden');
        });
});
</script>

<script>
    // Обновление отсчета времени до свадьбы
    function updateCountdown() {
        const weddingDate = new Date("2025-08-30T16:30:00");
        const now = new Date();
        const timeLeft = weddingDate - now;

        const weeks = Math.floor(timeLeft / (1000 * 60 * 60 * 24 * 7));
        const days = Math.floor((timeLeft % (1000 * 60 * 60 * 24 * 7)) / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

        document.getElementById('weeks').innerText = String(weeks).padStart(2, '0');
        document.getElementById('days').innerText = String(days).padStart(2, '0');
        document.getElementById('hours').innerText = String(hours).padStart(2, '0');
        document.getElementById('minutes').innerText = String(minutes).padStart(2, '0');
        document.getElementById('seconds').innerText = String(seconds).padStart(2, '0');
    }

    setInterval(updateCountdown, 1000);
</script>

</body>
</html>

